(window.webpackJsonp=window.webpackJsonp||[]).push([[46],{543:function(t,s,a){t.exports=a.p+"assets/img/1.e8409db0.png"},544:function(t,s,a){t.exports=a.p+"assets/img/2.6e545d5b.png"},545:function(t,s,a){t.exports=a.p+"assets/img/3.4d069841.png"},944:function(t,s,a){"use strict";a.r(s);var n=a(4),r=Object(n.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h2",{attrs:{id:"链接资料"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#链接资料"}},[t._v("#")]),t._v(" 链接资料")]),t._v(" "),s("p",[s("a",{attrs:{href:"https://blog.csdn.net/weixin_46758480/article/details/119910088",target:"_blank",rel:"noopener noreferrer"}},[t._v("如何将自己的python代码打包成库，可以让别人使用pip安装调用？_python打包成库_咸鱼尽量翻身的博客-CSDN博客"),s("OutboundLink")],1)]),t._v(" "),s("p",[t._v("setup.py文件")]),t._v(" "),s("p",[s("a",{attrs:{href:"https://zhuanlan.zhihu.com/p/115302375",target:"_blank",rel:"noopener noreferrer"}},[t._v("Python包发布指南"),s("OutboundLink")],1)]),t._v(" "),s("p",[t._v("[Python 库打包分发(setup.py 编写)简易指南](http://kuanghy.github.io/2018/04/29/setup-dot-py#:~:text=setup.py 文件 Python 库打包分发的关键在于编写 setup.py 文件。 setup.py,文件编写的规则是从 setuptools 或者 distuils 模块导入 setup 函数，并传入各类参数进行调用。)")]),t._v(" "),s("p",[t._v("大家好，本文是解决如何将自己的python代码建成一个python库，可以让任何人都能pip install <库名> 使用，亲测有效！")]),t._v(" "),s("p",[t._v("前期准备： 1.创建PyPI用户")]),t._v(" "),s("p",[t._v("PyPI官网：https://pypi.org/")]),t._v(" "),s("p",[t._v("2.创建阿里云用户（或者直接放到github上，创建一个仓库）")]),t._v(" "),s("p",[t._v("阿里云官网：https://code.aliyun.com/")]),t._v(" "),s("p",[t._v("3.下载git")]),t._v(" "),s("p",[t._v("当然，python3，anaconda3这些环境也是必备的。")]),t._v(" "),s("h2",{attrs:{id:"第一步-创建仓库-建议放到github"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#第一步-创建仓库-建议放到github"}},[t._v("#")]),t._v(" 第一步：（创建仓库，建议放到github）")]),t._v(" "),s("p",[t._v("登录阿里云，创建一个空项目jlwang825(项目名自己取)，可见等级为Public 。")]),t._v(" "),s("p",[t._v("然后，将自己建的项目拉到本地，如下图：")]),t._v(" "),s("p",[t._v("git clone https://code.aliyun.com/wangjieling1124/jlwang825.git 上面git clone 后面的网址就是你自己建的项目的地址，复制到后面即可。")]),t._v(" "),s("h2",{attrs:{id:"第二步"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#第二步"}},[t._v("#")]),t._v(" 第二步：")]),t._v(" "),s("p",[s("img",{attrs:{src:a(543),alt:""}})]),t._v(" "),s("h2",{attrs:{id:"第三步"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#第三步"}},[t._v("#")]),t._v(" 第三步：")]),t._v(" "),s("h3",{attrs:{id:"创建setup-py"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#创建setup-py"}},[t._v("#")]),t._v(" "),s("a",{attrs:{href:"http://xn--setup-ll6hz28e.py",target:"_blank",rel:"noopener noreferrer"}},[t._v("创建setup.py"),s("OutboundLink")],1)]),t._v(" "),s("div",{staticClass:"language-python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" distutils"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("core "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" setup\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" setuptools\n\npackages "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'pymongoRawQuery'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 唯一的包名，自己取名")]),t._v("\nsetup"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n      name"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'pymongoRawQuery'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      version"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'1.0.1'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      description"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'mongo raw query'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      author"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'YiZhang-You'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      author_email"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'yyz18071720400@163.com'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      packages"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("packages"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      package_dir"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'pymongoRawQuery'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'pymongoRawQuery'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      url"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"<https://github.com/YiZhang-You/pymongoRawQuery.git>"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      python_requires"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'>=3.1'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      install_requires"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n          "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'pymongo>=4.0.1'")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br"),s("span",{staticClass:"line-number"},[t._v("17")]),s("br"),s("span",{staticClass:"line-number"},[t._v("18")]),s("br")])]),s("h3",{attrs:{id:"创建开源协议文件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#创建开源协议文件"}},[t._v("#")]),t._v(" 创建开源协议文件")]),t._v(" "),s("p",[s("img",{attrs:{src:a(544),alt:""}})]),t._v(" "),s("h2",{attrs:{id:"第四步"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#第四步"}},[t._v("#")]),t._v(" 第四步：")]),t._v(" "),s("p",[t._v("在项目文件jlwang825路径下进入cmd，执行下列三次操作。")]),t._v(" "),s("div",{staticClass:"language-python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[t._v("python "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("setup"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("py"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("http"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("//")]),t._v("setup"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("py"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" build\npython "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("setup"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("py"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("http"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("//")]),t._v("setup"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("py"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" sdist\npython "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("setup"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("py"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("http"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("//")]),t._v("setup"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("py"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" sdist bdist_wheel\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br")])]),s("p",[t._v("然后，生成下面这些文件")]),t._v(" "),s("p",[s("img",{attrs:{src:a(545),alt:""}})]),t._v(" "),s("h2",{attrs:{id:"第五步"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#第五步"}},[t._v("#")]),t._v(" 第五步：")]),t._v(" "),s("p",[t._v("在项目文件jlwang825路径下进入cmd，执行下列操作，将包上传到PyPI。")]),t._v(" "),s("div",{staticClass:"language-python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[t._v("pip install twine\n\ntwine upload "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("repository"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("url "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("https"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("//")]),t._v("upload"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("pypi"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("org"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("legacy"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("https"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("//")]),t._v("upload"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("pypi"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("org"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("legacy"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" dist"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br")])]),s("p",[t._v("注意！输入的username和password是你自己创建PyPI账号时设置的。如上图，输入密码时，屏幕上不会显示，所以直接输入自己的密码后enter下一步即可。")]),t._v(" "),s("p",[t._v("然后，登录自己的PyPI账号，会发现库已经上传，可以 pip install 使用了。")])])}),[],!1,null,null,null);s.default=r.exports}}]);