(window.webpackJsonp=window.webpackJsonp||[]).push([[441],{1244:function(n,r,a){"use strict";a.r(r);var t=a(4),e=Object(t.a)({},(function(){var n=this,r=n._self._c;return r("ContentSlotsDistributor",{attrs:{"slot-key":n.$parent.slotKey}},[r("h1",{attrs:{id:"配置nginx代理grafana实现域名访问"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#配置nginx代理grafana实现域名访问"}},[n._v("#")]),n._v(" "),r("strong",[n._v("配置nginx代理grafana实现域名访问")])]),n._v(" "),r("p",[r("a",{attrs:{href:"https://blog.csdn.net/manba_24/article/details/119342406",target:"_blank",rel:"noopener noreferrer"}},[n._v("配置nginx代理grafana实现域名访问（七）_k.o.b.e-24的博客-CSDN博客_grafana 配置nginx"),r("OutboundLink")],1)]),n._v(" "),r("p",[n._v("一、目的\n通过 Nginx 服务器对 grafana 进行代理，实现通过 "),r("a",{attrs:{href:"https://xn--eqrt2g/grafana",target:"_blank",rel:"noopener noreferrer"}},[n._v("https://域名/grafana"),r("OutboundLink")],1),n._v(" 在公网进行访问。")]),n._v(" "),r("p",[n._v("二、实践过程\n1、修改Nginx配置（nginx.conf）文件，添加访问 grafana 的配置，配置时注意 proxy_pass 后面一定要有符号 /（目的是去掉/grafana/以匹配本身）")]),n._v(" "),r("p",[n._v("location /grafana/ {\nroot html;\nindex index.html index.htm;\nproxy_pass "),r("a",{attrs:{href:"http://xn--ip-fr5c86lx7z:3000/",target:"_blank",rel:"noopener noreferrer"}},[n._v("http://服务器ip:3000"),r("OutboundLink")],1),n._v(";\nproxy_redirect default;\nproxy_max_temp_file_size 0k;\nproxy_connect_timeout 30;\nproxy_send_timeout 60;\nproxy_read_timeout 60;\nproxy_next_upstream error timeout invalid_header http_502;\n}\n2、修改 grafana 服务器的配置文件（grafana.ini），注意需要去掉行前的注释符号“;”。[server]段涉及以下三处需要更改")]),n._v(" "),r("p",[n._v("[server]\ndomain = 填写你的域名地址\nroot_url = %(protocol)s://%(domain)s:%(http_port)s/grafana/\nserve_from_sub_path = true")]),n._v(" "),r("p",[n._v("3、reload Nginx并重启grafana服务")]),n._v(" "),r("p",[n._v("/usr/local/nginx/sbin/nginx -t\n/usr/local/nginx/sbin/nginx -s reload\nsystemctl restart grafana-server\n4、最后提供下官方文档中关于转发的配置说明")]),n._v(" "),r("p",[n._v("[server]\ndomain = "),r("a",{attrs:{href:"http://example.com/",target:"_blank",rel:"noopener noreferrer"}},[n._v("example.com"),r("OutboundLink")],1),n._v("\nroot_url = %(protocol)s://%(domain)s:%(http_port)s/grafana/\nserve_from_sub_path = true\n文\n————————————————\n版权声明：本文为CSDN博主「k.o.b.e-24」的原创文章，遵循CC 4.0 BY-SA版权协议，转载请附上原文出处链接及本声明。\n原文链接："),r("a",{attrs:{href:"https://blog.csdn.net/manba_24/article/details/119342406",target:"_blank",rel:"noopener noreferrer"}},[n._v("https://blog.csdn.net/manba_24/article/details/119342406"),r("OutboundLink")],1)])])}),[],!1,null,null,null);r.default=e.exports}}]);