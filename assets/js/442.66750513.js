(window.webpackJsonp=window.webpackJsonp||[]).push([[442],{1246:function(n,a,t){"use strict";t.r(a);var e=t(4),r=Object(e.a)({},(function(){var n=this,a=n._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":n.$parent.slotKey}},[a("h2",{attrs:{id:"nginx代理kibana方法"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#nginx代理kibana方法"}},[n._v("#")]),n._v(" "),a("strong",[a("a",{attrs:{href:"https://www.cnblogs.com/yanjieli/p/13573781.html",target:"_blank",rel:"noopener noreferrer"}},[n._v("Nginx代理kibana方法"),a("OutboundLink")],1)])]),n._v(" "),a("p",[a("a",{attrs:{href:"https://www.cnblogs.com/yanjieli/p/13573781.html",target:"_blank",rel:"noopener noreferrer"}},[n._v("Nginx代理kibana方法2 - 别来无恙- - 博客园"),a("OutboundLink")],1)]),n._v(" "),a("h2",{attrs:{id:"前言"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#前言"}},[n._v("#")]),n._v(" "),a("strong",[n._v("前言"),a("a",{attrs:{href:"https://www.cnblogs.com/yanjieli/p/13573781.html#%E5%89%8D%E8%A8%80",target:"_blank",rel:"noopener noreferrer"}},[n._v("#"),a("OutboundLink")],1)])]),n._v(" "),a("blockquote",[a("p",[n._v("前面写过一篇nginx代理kibana的配置，没有写路径代理，由于很多时候不可能直接一个域名或IP就只代理这一个站点，需要进行URI的代理配置，"),a("a",{attrs:{href:"http://xn--www-ns9d99uj5icz0alngt0th49c7oj5ls.test.com/kibana%E3%80%82",target:"_blank",rel:"noopener noreferrer"}},[n._v("比如代理后这样访问www.test.com/kibana。"),a("OutboundLink")],1)]),n._v(" "),a("p",[n._v("这里只是示例nginx和kibana的配置，更多细节可以参考之前那篇文章。")]),n._v(" "),a("p",[n._v("地址：https://www.cnblogs.com/yanjieli/p/11187689.html")])]),n._v(" "),a("h2",{attrs:{id:"配置kibana"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#配置kibana"}},[n._v("#")]),n._v(" "),a("strong",[n._v("配置kibana"),a("a",{attrs:{href:"https://www.cnblogs.com/yanjieli/p/13573781.html#%E9%85%8D%E7%BD%AEkibana",target:"_blank",rel:"noopener noreferrer"}},[n._v("#"),a("OutboundLink")],1)])]),n._v(" "),a("p",[n._v("编辑kibana的配置文件，对"),a("code",[n._v("server.basePath")]),n._v("进行定义，配置路径。")]),n._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[n._v('# cat /etc/kibana/kibana.yml# Default Kibana configuration for docker target\nserver.name: kibana\nserver.host: "0"\nserver.basePath: "/elk"\nelasticsearch.hosts: [ "<http://elasticsearch:9200>" ]\nxpack.monitoring.ui.container.elasticsearch.enabled: true\ni18n.locale: "zh-CN"\n\n# systemctl restart kibana# netstat -nltp |grep 5601\ntcp        0      0 127.0.0.1:5601          0.0.0.0:*               LISTEN      72068/node\n')])]),n._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[n._v("1")]),a("br"),a("span",{staticClass:"line-number"},[n._v("2")]),a("br"),a("span",{staticClass:"line-number"},[n._v("3")]),a("br"),a("span",{staticClass:"line-number"},[n._v("4")]),a("br"),a("span",{staticClass:"line-number"},[n._v("5")]),a("br"),a("span",{staticClass:"line-number"},[n._v("6")]),a("br"),a("span",{staticClass:"line-number"},[n._v("7")]),a("br"),a("span",{staticClass:"line-number"},[n._v("8")]),a("br"),a("span",{staticClass:"line-number"},[n._v("9")]),a("br"),a("span",{staticClass:"line-number"},[n._v("10")]),a("br")])]),a("h2",{attrs:{id:"配置nginx"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#配置nginx"}},[n._v("#")]),n._v(" "),a("strong",[n._v("配置nginx"),a("a",{attrs:{href:"https://www.cnblogs.com/yanjieli/p/13573781.html#%E9%85%8D%E7%BD%AEnginx",target:"_blank",rel:"noopener noreferrer"}},[n._v("#"),a("OutboundLink")],1)])]),n._v(" "),a("p",[n._v("编写一个代理配置文件")]),n._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[n._v("# cat /etc/nginx/conf.d/proxy_kibana.confserver {\n    listen 80;\n    server_name 172.24.115.4;\n    location /elk/ {\n        proxy_pass <http://172.24.115.45:5601>;\n        rewrite ^/elk/(.*)$ /$1 break;\n        proxy_set_header  X-Real-IP  $remote_addr;\n        proxy_set_header  Host $host:$server_port;\n        proxy_set_header  X-Forwarded-For $proxy_add_x_forwarded_for;\n        proxy_http_version 1.1;\n    }\n}\n")])]),n._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[n._v("1")]),a("br"),a("span",{staticClass:"line-number"},[n._v("2")]),a("br"),a("span",{staticClass:"line-number"},[n._v("3")]),a("br"),a("span",{staticClass:"line-number"},[n._v("4")]),a("br"),a("span",{staticClass:"line-number"},[n._v("5")]),a("br"),a("span",{staticClass:"line-number"},[n._v("6")]),a("br"),a("span",{staticClass:"line-number"},[n._v("7")]),a("br"),a("span",{staticClass:"line-number"},[n._v("8")]),a("br"),a("span",{staticClass:"line-number"},[n._v("9")]),a("br"),a("span",{staticClass:"line-number"},[n._v("10")]),a("br"),a("span",{staticClass:"line-number"},[n._v("11")]),a("br"),a("span",{staticClass:"line-number"},[n._v("12")]),a("br")])]),a("h2",{attrs:{id:"访问测试"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#访问测试"}},[n._v("#")]),n._v(" "),a("strong",[n._v("访问测试"),a("a",{attrs:{href:"https://www.cnblogs.com/yanjieli/p/13573781.html#%E8%AE%BF%E9%97%AE%E6%B5%8B%E8%AF%95",target:"_blank",rel:"noopener noreferrer"}},[n._v("#"),a("OutboundLink")],1)])]),n._v(" "),a("p",[n._v("最终访问"),a("code",[n._v("http://172.24.115.4/elk")]),n._v("便可以访问到代理的kibana，这里由于配置了别的IP转发至该IP，故不贴图了。")]),n._v(" "),a("p",[n._v("作者：别来无恙-")]),n._v(" "),a("p",[n._v("出处：https://www.cnblogs.com/yanjieli/p/13573781.html")])])}),[],!1,null,null,null);a.default=r.exports}}]);