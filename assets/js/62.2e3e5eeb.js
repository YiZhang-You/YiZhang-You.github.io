(window.webpackJsonp=window.webpackJsonp||[]).push([[62],{484:function(t,s,n){t.exports=n.p+"assets/img/3.2b0e6f88.png"},485:function(t,s,n){t.exports=n.p+"assets/img/4.c6cbdb62.png"},898:function(t,s,n){"use strict";n.r(s);var a=n(4),e=Object(a.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h2",{attrs:{id:"引言"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#引言"}},[t._v("#")]),t._v(" "),s("strong",[t._v("引言")])]),t._v(" "),s("p",[t._v("我们都知道，Django是基于Python的Web开发框架。")]),t._v(" "),s("p",[t._v("那么，什么是Web开发？")]),t._v(" "),s("p",[t._v("Web开发指的是开发基于B/S架构，通过前后端的配合，将后台服务器的数据在浏览器上展现给前台用户的应用。比如将电子购物网站的商品数据在浏览器上展示给客户，在基于浏览1器的学校系统管理平台上管理学生的数据，监控机房服务器的状态并将结果以图形化的形式展现出来等等。")]),t._v(" "),s("p",[t._v("在早期，没有Web框架的时候，我们是如何创建Web应用的呢？ 以使用Python CGI脚本显示数据库中最新添加的10件商品为例：")]),t._v(" "),s("div",{staticClass:"language-python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" pymysql\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Content-Type: text/html\\\\n"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"<html><head><title>products</title></head>"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"<body>"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"<h1>products</h1>"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"<ul>"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\nconnection "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" pymysql"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("connect"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("user"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'user'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" passwd"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'pwd'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" db"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'product_db'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\ncursor "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" connection"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("cursor"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\ncursor"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("execute"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"SELECT name FROM products ORDER BY create_date DESC LIMIT 10"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" row "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" cursor"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("fetchall"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"<li>%s</li>"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v(" row"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"</ul>"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"<p><https://www.liujiangblog.com></p>"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"</body></html>"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\nconnection"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("close"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br"),s("span",{staticClass:"line-number"},[t._v("17")]),s("br"),s("span",{staticClass:"line-number"},[t._v("18")]),s("br"),s("span",{staticClass:"line-number"},[t._v("19")]),s("br"),s("span",{staticClass:"line-number"},[t._v("20")]),s("br")])]),s("p",[t._v("首先，打印"),s("code",[t._v("Content-Type")]),t._v("行等一些HTML的起始标签，然后连接数据库并执行一些查询操作，获取最新的十件商品的相关数据。在遍历这些商品的同时，生成一个商品的HTML列表项，然后输出HTML的结束标签并且关闭数据库连接。将生成的HTML代码保存到一个"),s("code",[t._v(".cgi")]),t._v("文件中，然后上传到网络服务器上，用户通过浏览器即可访问。")]),t._v(" "),s("p",[t._v("这个代码看起来不错，简单易懂，但实际有很多问题和不方便的地方，比如：")]),t._v(" "),s("ul",[s("li",[t._v("网络应用底层的协议、线程、进程如何处理？")]),t._v(" "),s("li",[t._v("如果应用中有多处需要连接数据库会怎样呢？我们会有很多CGI脚本，每个脚本都写一遍链接数据库的代码？")]),t._v(" "),s("li",[t._v("前端、后端工程师以及数据库管理员集于一身，无法分工配合。设想一个前端设计师，完全没有Python开发经验，但是又需要编写SQL语句的话，会发生什么呢？")]),t._v(" "),s("li",[t._v("如果代码被重用到一个复杂的环境中会发生什么？")]),t._v(" "),s("li",[t._v("直接将数据库的密码写在代码里吗？")]),t._v(" "),s("li",[t._v("今天是取十个商品，明天我要删除十个商品怎么办？")])]),t._v(" "),s("p",[t._v("以上的问题是显而易见的，聪明的程序员在不断地遇到问题和解决问题，探索方案和实践方案中，重复了下面的过程：")]),t._v(" "),s("ol",[s("li",[t._v("开始编写第一个Web应用，经过大量地摸索和踩坑，完成了工作。")]),t._v(" "),s("li",[t._v("开始编写新的Web应用")]),t._v(" "),s("li",[t._v("从第一步中总结经验（找出其中通用的代码），并运用在第二步中")]),t._v(" "),s("li",[t._v("重构代码使得能在第二个应用中使用第一个程序中的通用代码")]),t._v(" "),s("li",[t._v("重复2-4步若干次")]),t._v(" "),s("li",[t._v("发明了一个Web框架。")])]),t._v(" "),s("p",[t._v("最初的Web开发框架就是这么来的！")]),t._v(" "),s("p",[t._v("Web框架致力于解决一些共同的问题，为Web应用提供通用的架构，让用户专注于网站应用业务逻辑的开发，而无须处理网络应用底层的协议、线程、进程等方面的问题，从而大大提高开发者的效率和Web应用程序的质量。")]),t._v(" "),s("p",[t._v("一般Web框架的架构是这样的：")]),t._v(" "),s("p",[s("img",{attrs:{src:n(484),alt:""}})]),t._v(" "),s("p",[t._v("大多数基于Python的web框架，如Django、Tornado、Flask、Webpy都是在这个范围内进行增删裁剪。例如Tornado用的是自己的异步非阻塞“WSGI”网关接口，Flask则只提供了最精简和基本的框架，Django则是直接使用了现成的WSGI，并实现了大部分功能，提供了大量的应用工具。")]),t._v(" "),s("h2",{attrs:{id:"django"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#django"}},[t._v("#")]),t._v(" d"),s("strong",[t._v("jango")])]),t._v(" "),s("p",[s("img",{attrs:{src:n(485),alt:""}})]),t._v(" "),s("p",[t._v("Django是一个由Python编写的具有完整架站能力的开源Web框架。使用Django，只要很少的代码，开发人员就可以轻松地完成一个正式网站所需要的大部分内容，并进一步开发出全功能的Web服务。")]),t._v(" "),s("p",[t._v("Django本身基于"),s("code",[t._v("MVC")]),t._v("架构，即Model（模型）+View（视图）+ Controller（控制器）设计模式，因此天然具有MVC的出色基因：开发快捷、部署方便、可重用性高、维护成本低等优点。")]),t._v(" "),s("p",[t._v("Django诞生于2003年，2006年加入了BSD许可证，成为开源的Web框架。Django这一词语是根据比利时的爵士音乐家"),s("code",[t._v("Django Reinhardt")]),t._v("命名的，含有希望Django能够优雅地演奏（开发）各种乐曲（Web应用）的美好含义，和著名的电影《姜戈的解放》无关。")]),t._v(" "),s("p",[t._v("Django是由美国堪萨斯（Kansas）州Lawrence城中的一个新闻开发小组开发出来的。当时"),s("code",[t._v("Lawrence Journal-World")]),t._v("报纸的程序员"),s("code",[t._v("Adrian Holovaty")]),t._v("和"),s("code",[t._v("Simon Willison")]),t._v("在用 Python 编写Web新闻网站，他们的 "),s("code",[t._v("World Online")]),t._v("小组制作并维护了当地的几个新闻站点。新闻界独有的特点是迭代迅速，从开发到上线，通常只有几天或几个小时的时间。为了能在截止时间前完成工作，Adrian和Simon不得不开发一种通用的高效的网络应用开发框架，也就是Django。")]),t._v(" "),s("p",[t._v("2005年的夏天，当这个框架开发完成时，它已经用来制作了很多个"),s("code",[t._v("World Online")]),t._v("的站点。不久，小组中的"),s("code",[t._v("Jacob Kaplan-Moss")]),t._v("决定把这个框架发布为一个开源软件。短短数年，Django项目就有了数以万计的用户和贡献者，在世界范围内广泛传播。 原来的"),s("code",[t._v("World Online")]),t._v("的两个开发者（Adrian and Jacob）仍然掌握着Django，但是其发展方向受社区团队的影响更大。")]),t._v(" "),s("p",[s("strong",[t._v("Django具有以下特点：")])]),t._v(" "),s("ul",[s("li",[t._v("Django是一个全栈Web框架。所谓全栈框架，是指除了封装网络和线程操作，还提供HTTP请求和响应、数据库读写管理、HTML模板渲染等一系列功能的框架。你可以不太准确地理解为全栈工程师包办了前后端和数据库访问的所有开发工作，整个网站都是一个人搭建的。")]),t._v(" "),s("li",[t._v("功能完善、要素齐全。该有的、可以没有的都有，常用的、不常用的工具都提供。Django提供了大量的特性和工具，无须你自己定义、组合、增删及修改。但是，在有些人眼里这被认为是臃肿不够灵活，发挥不了程序员的能动性。（一体机和DIY你更喜欢哪个？^-^）")]),t._v(" "),s("li",[t._v("完善的文档。经过长期的发展和完善，Django有广泛的实践经验和完善的在线文档。开发者遇到问题时可以搜索在线文档寻求解决方案。")]),t._v(" "),s("li",[t._v("强大的数据库访问API。Django的Model层自带数据库ORM组件，开发者无须学习其他数据库访问技术（例如SQLALchemy）。当然你也可以使用SQLALchemy，甚至不适用ORM组件。")]),t._v(" "),s("li",[t._v("灵活的路由系统。Django具备路由转发、正则表达式、命名空间、URL反向解析等功能。")]),t._v(" "),s("li",[t._v("丰富的Template模板功能：Django自带类似jinjia的模板语言，不但原生功能丰富，还可以自定义模板标签和过滤器。并且以类似Python的调用机制和视图默契配合。")]),t._v(" "),s("li",[t._v("自带后台管理应用admin：只需要通过简单的几行配置和代码就可以实现一个完整的后台数据管理控制平台。这是Django最受欢迎的功能。")]),t._v(" "),s("li",[t._v("完整的错误信息提示：在开发调试过程中如果出现运行错误或者异常，Django可以提供非常完整的错误信息帮助定位问题。")])])])}),[],!1,null,null,null);s.default=e.exports}}]);